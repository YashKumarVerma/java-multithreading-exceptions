# Info
- All programs use a package **rainbow** written by me to show colored and formatted output.  

# Question1
Implementing a time counter via a separate thread, and call the function whenever user asks to show the time.
 
## Code
```JAVA
import java.util.Scanner;
import rainbow.rainbow;

class ClockWorker extends Thread {
    private int counter = 0;
    private final String context = "[ " + rainbow.green(this.getName()) + " ] ";

    ClockWorker() {
        System.out.println(this.context + "ClockWorker started");
    }

    @Override
    public void run() {
        try {
            while (true) {
                this.counter += 1;
                Thread.sleep(1 * 1000);
            }

        } catch (InterruptedException e) {
            System.out.println(context + "Exception !");
        }
    }

    public int getSeconds() {
        System.out.print(context);
        return this.counter;
    }
}

public class Clock {

    public static void main(String args[]) {
        String command;
        final Scanner handler = new Scanner(System.in);
        final String context = "[ " + rainbow.green(Thread.currentThread().getName()) + " ] ";

        // tell user about current thread and that counter has started
        System.out.println(context + " Time Counter started");

        // start separate thread with timer
        final ClockWorker worker = new ClockWorker();
        worker.start();

        while (true) {
            System.out.print(context + "Enter \"show\" to show live timer : ");
            command = handler.nextLine();
            if (command.equals("show")) {
                System.out.println("Seconds elapsed : " + worker.getSeconds());
            }
        }

    }
}
```

## Output
![https://i.imgur.com/Isc8OmG.png](https://i.imgur.com/Isc8OmG.png)
![https://i.imgur.com/ht8ruwk.png](https://i.imgur.com/ht8ruwk.png)
![https://i.imgur.com/fYkmLYK.png](https://i.imgur.com/fYkmLYK.png)
![https://i.imgur.com/yisU6QR.png](https://i.imgur.com/yisU6QR.png)


# Question2
Implementing two threads to calculate the nth prime number and prime factors of a number and also show the current threads being executed.

## Code
```JAVA
import java.util.Scanner;
import java.util.ArrayList;
import java.util.InputMismatchException;
import java.util.List;
import rainbow.rainbow;
import rainbow.rainbow;

class PrimeNumber extends Thread {
    private int nth;
    private final String context = "[ " + rainbow.green(this.getName()) + " ] ";

    public PrimeNumber(int nth) {
        this.nth = nth;
    }

    @Override
    public void run() {
        System.out.println(this.context + this.nth + "th prime number is " + this.findNth(this.nth));
    }

    private int findNth(int nth) {
        int num, count, i;
        num = 1;
        count = 0;

        while (count < nth) {
            num = num + 1;
            for (i = 2; i <= num; i++) {
                if (num % i == 0) {
                    break;
                }
            }
            if (i == num) {
                count = count + 1;
            }
        }

        return num;
    }
}

class PrimeFactors extends Thread {
    private int number;
    private Integer[] factors;
    private final String context = "[ " + rainbow.green(this.getName()) + " ] ";

    public PrimeFactors(int number) {
        this.number = number;
    }

    @Override
    public void run() {
        System.out.print(this.context + "Prime Factors of " + this.number + " are : ");
        this.calculator();
        for (Integer num : this.factors) {
            System.out.print(num + " ");
        }
        System.out.println();
    }

    private void calculator() {
        List<Integer> list = new ArrayList<Integer>();
        for (int i = 2; i < this.number; i++) {
            while (this.number % i == 0) {
                list.add(i);
                this.number = this.number / i;
            }
        }
        this.factors = list.toArray(new Integer[list.size()]);
    }
}

public class Computations {
    public static void main(String args[]) {
        final String context = "[ " + rainbow.green(Thread.currentThread().getName()) + " ] ";

        try {
            Scanner handler = new Scanner(System.in);
            System.out.print(context + rainbow.bold("Enter a number : "));
            int number = handler.nextInt();

            PrimeNumber primeNumber = new PrimeNumber(number);
            primeNumber.start();

            PrimeFactors primeFactors = new PrimeFactors(number);
            primeFactors.start();
        } catch (IllegalArgumentException e) {
            System.out.println(rainbow.red(context + "Illegal arguments !"));
        } catch (InputMismatchException e) {
            System.out.println(rainbow.red(context + "Invalid input type !"));
        } catch (Exception e) {
            System.out.println(rainbow.red(context + "Some Error encountered !"));
        }
    }
}
```

## Output
![https://i.imgur.com/S96zuOr.png](https://i.imgur.com/S96zuOr.png)


# Question3
Create two threads. One to make a web request and download the html of a page, and another to write the data to file.

## Code
```JAVA
import java.net.URI;
import java.util.Scanner;
import java.io.FileWriter;
import java.io.IOException;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import rainbow.rainbow;

class FileWriterThread extends Thread {
    private String data;
    private String fileName;
    private FileWriter fileWriter = null;
    private final String context = "[ " + rainbow.green(this.getName()) + " ] ";

    public FileWriterThread(String fileName, String data) throws IOException {
        System.out.println(this.context + "File Writer Thread initialized");
        this.data = data;
        this.fileName = fileName;
        this.fileWriter = new FileWriter("./" + fileName);
    }

    @Override
    public void run() {
        try {
            this.fileWriter.write(this.data);
            System.out.println(this.context + "Data written to file : " + this.fileName);
        } catch (IOException e) {
            System.out.print(e);
        }
    }

    @Override
    protected void finalize() throws Throwable {
        System.out.println(this.context + "File Writer closed.");
        this.fileWriter.close();
    }
}

class FileDownloader extends Thread {
    private String fileUrl;
    private String fileName;
    private final String context = "[ " + rainbow.green(this.getName()) + " ] ";

    public FileDownloader(String fileUrl, String fileName) {
        System.out.println(this.context + "File Downloader Thread initialized");
        this.fileUrl = fileUrl;
        this.fileName = fileName;
    }

    public void run() {
        try {
            final HttpClient client = HttpClient.newHttpClient();
            final HttpRequest request = HttpRequest.newBuilder().uri(URI.create(this.fileUrl)).build();
            final HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());
            final String dataToWriteToFile = response.body();
            final FileWriterThread fileWriterThread = new FileWriterThread(this.fileName, dataToWriteToFile);
            fileWriterThread.start();

        } catch (Exception e) {
            System.out.println(this.context + "Error downloading webpage");
        }
    }
}

public class FileWorker {

    public static void main(final String[] args) {
        final Scanner handler = new Scanner(System.in);
        final String context = "[ " + rainbow.green(Thread.currentThread().getName()) + " ] ";

        // take input of url
        System.out.print(context + rainbow.italic("Enter url of the page you want to save : "));
        String url = handler.nextLine();

        // take input of filename
        System.out.print(context + rainbow.italic("Enter name of file you want to save webpage as :"));
        String fileName = handler.nextLine();

        // download file
        FileDownloader fileDownloader = new FileDownloader(url, fileName);
        fileDownloader.start();

        System.out.println(context + "Your file is downloading now.");

        handler.close();
    }
}
```

## Output
![https://i.imgur.com/0aNVvU0.png](https://i.imgur.com/0aNVvU0.png)

Content of file : "**yashkumarverma.html**"

![https://i.imgur.com/HI8FWMe.png](https://i.imgur.com/HI8FWMe.png)